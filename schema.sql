create table
  public.treats (
    sku text not null,
    name text not null,
    satiety integer not null default 0,
    price integer not null default 0,
    constraint treats_pkey primary key (sku),
    constraint treats_name_key unique (name),
    constraint treats_sku_key unique (sku)
  ) tablespace pg_default;
  INSERT INTO "public"."treats" ("sku", "name", "satiety", "price") 
    VALUES ('CLOUD_CANDY', 'cloud candy', '15', '15'), ('CRUMBLY_COOKIE', 'crumbly cookie', '20', '20'), 
    ('CUCUMBER_SALAD', 'cucumber salad', '30', '30'), ('GOGI_BERRY', 'gogi berry', '10', '10'), 
    ('HONEY', 'honey', '8', '8'), ('KEBAB', 'kebab', '75', '75'), ('NABNAB_BERRY', 'nabnab berry', '15', '15'), 
    ('PINAP_BERRY', 'pinap berry', '20', '20'), ('RAZZ_BERRY', 'razz berry', '10', '10'), 
    ('SARDINE', 'sardine', '45', '45'), ('SEAWEED_SNACK', 'seaweed', '25', '25'), 
    ('SHADOW_BREAD', 'shadow bread', '42', '42'), ('SHINY_BERRY', 'shiny berry', '27', '27'), 
    ('SPICE_COOKIE', 'spice cookie', '38', '38'), ('STEAK_SKEWER', 'steak skewer', '95', '95'), 
    ('TAIYAKI', 'taiyaki', '55', '55'), ('VANILLA_FLUFF', 'vanilla fluff', '22', '22');

create table
  public.creature_types (
    id bigint generated by default as identity not null,
    type text not null,
    fav_treat text not null,
    hated_treat text not null,
    constraint creature_types_pkey primary key (id),
    constraint creature_types_id_key unique (id),
    constraint creature_types_type_key unique (
      type
    ),
    constraint creature_types_fav_treat_fkey foreign key (fav_treat) references treats (sku),
    constraint creature_types_hated_treat_fkey foreign key (hated_treat) references treats (sku)
  ) tablespace pg_default;
  INSERT INTO "public"."creature_types" ("id", "type", "fav_treat", "hated_treat") 
    VALUES ('1', 'water_turtle', 'SARDINE', 'KEBAB'), ('2', 'fire_lizard', 'SPICE_COOKIE', 'SEAWEED_SNACK'), 
    ('3', 'grass_dragon', 'CUCUMBER_SALAD', 'SPICE_COOKIE'), ('4', 'sea_ghost', 'SHADOW_BREAD', 'CRUMBLY_COOKIE'), 
    ('5', 'psychic_unicorn', 'SHINY_BERRY', 'SHADOW_BREAD'), ('6', 'fighter_cow', 'GOGI_BERRY', 'STEAK_SKEWER'), 
    ('7', 'silly_cat', 'TAIYAKI', 'CUCUMBER_SALAD'), ('8', 'electric_sheep', 'CLOUD_CANDY', 'SARDINE'), 
    ('9', 'fluffy_fairy', 'PINAP_BERRY', 'VANILLA_FLUFF'), ('10', 'flying_bug', 'VANILLA_FLUFF', 'HONEY');

create table
  public.creatures (
    id bigint generated by default as identity not null,
    name text not null,
    type text not null,
    happiness integer not null default 0,
    hunger integer not null default 100,
    constraint creatures_pkey primary key (id),
    constraint creatures_name_key unique (name),
    constraint creatures_type_fkey foreign key (
      type
    ) references creature_types (
      type
    )
  ) tablespace pg_default;
  INSERT INTO "public"."creatures" ("id", "name", "type", "happiness", "hunger") 
    VALUES ('2', 'Blaze', 'fire_lizard', '100', '0'), ('3', 'Whiskaroo', 'silly_cat', '100', '0'), 
    ('4', 'Rumbull', 'fighter_cow', '100', '0'), ('5', 'Spectrip', 'sea_ghost', '100', '0'), 
    ('6', 'Mindara', 'psychic_unicorn', '100', '0'), ('7', 'Zap E. Wool', 'electric_sheep', '100', '0'), 
    ('8', 'Flutterbop', 'flying_bug', '100', '0'), ('9', 'Puffilia', 'fluffy_fairy', '100', '0'), 
    ('10', 'Thornvyne', 'grass_dragon', '100', '0'), ('11', 'Shellwater', 'water_turtle', '100', '0'), 
    ('12', 'Infernyx', 'fire_lizard', '100', '0'), ('13', 'Nibbly', 'silly_cat', '100', '0'), 
    ('14', 'Brawlow', 'fighter_cow', '100', '0'), ('15', 'Haunter Glow', 'sea_ghost', '100', '0'), 
    ('16', 'Mystara', 'psychic_unicorn', '100', '0'), ('17', 'Shocuff', 'electric_sheep', '100', '0'), 
    ('18', 'Flyka', 'flying_bug', '100', '0'), ('19', 'Fayblossom', 'fluffy_fairy', '100', '0'), 
    ('20', 'Grumblevine', 'grass_dragon', '100', '0'), ('21', 'Aquaquel', 'water_turtle', '100', '0');

create table
  public.users (
    id bigint generated by default as identity not null,
    username text not null,
    gold integer not null default 0,
    constraint users_pkey primary key (id),
    constraint users_username_key unique (username)
  ) tablespace pg_default;
  INSERT INTO "public"."users" ("id", "username", "gold") VALUES ('1', 'dragonluvr5', '33')

create table
  public.users_inventory (
    id bigint generated by default as identity not null,
    user_id bigint not null,
    treat_sku text not null,
    quantity integer not null default 0,
    creatures text null,
    constraint users_inventory_pkey primary key (id),
    constraint users_inventory_creatures_fkey foreign key (creatures) references creatures (name),
    constraint users_inventory_treat_sku_fkey foreign key (treat_sku) references treats (sku) on update cascade on delete cascade,
    constraint users_inventory_user_id_fkey foreign key (user_id) references users (id) on update cascade on delete cascade
  ) tablespace pg_default;

create table
  public.users_treat_inventory (
    user_id bigint not null,
    treat_sku text not null,
    quantity integer not null default 0,
    id bigint generated by default as identity not null,
    constraint users_treat_inventory_pkey primary key (id),
    constraint users_treat_inventory_id_key unique (id),
    constraint users_inventory_treat_sku_fkey foreign key (treat_sku) references treats (sku) on update cascade on delete cascade,
    constraint users_inventory_user_id_fkey foreign key (user_id) references users (id) on update cascade on delete cascade
  ) tablespace pg_default;

create table
  public.user_creature_connection (
    user_id bigint not null,
    creature_id bigint not null,
    affinity integer not null default 0,
    constraint user_creature_connection_pkey primary key (user_id, creature_id),
    constraint user_creature_connection_creature_id_fkey foreign key (creature_id) references creatures (id) on update cascade on delete cascade,
    constraint user_creature_connection_user_id_fkey foreign key (user_id) references users (id) on update cascade on delete cascade
  ) tablespace pg_default;
  INSERT INTO "public"."user_creature_connection" ("user_id", "creature_id", "affinity", "is_adopted") 
   VALUES ('1', '2', '95', 'false'), 
          ('1', '3', '100', 'true'), 
          ('1', '5', '1', 'false'), 
          ('1', '15', '2', 'false'), 
          ('1', '16', '6', 'false'), 
          ('1', '18', '3', 'false'), 
          ('1', '20', '2', 'false');

create table
  public.carts (
    id bigint generated by default as identity not null,
    user_id bigint not null,
    created_at timestamp with time zone not null default now(),
    constraint carts_pkey primary key (id),
    constraint carts_user_id_fkey foreign key (user_id) references users (id) on update cascade on delete cascade
  ) tablespace pg_default;

create table
  public.carts_items (
    cart_id bigint not null,
    item_sku text not null,
    quantity integer not null default 0,
    constraint carts_items_pkey primary key (cart_id, item_sku),
    constraint carts_items_cart_id_fkey foreign key (cart_id) references carts (id) on update cascade on delete cascade,
    constraint carts_items_item_sku_fkey foreign key (item_sku) references treats (sku) on update cascade on delete cascade
  ) tablespace pg_default;
